---
layout: post
title:  "C언어 - 컴퓨터가 변수를 처리하는 방법"
author: fennec-fox
tags: C
category:  c
---

# 컴퓨터가 변수를 처리하는 방법



### 프로그램 메모리 주소

- 컴퓨터에서 프로그램이 실행되기 위해서는 프로그램이 메모리에 적재(Load) 되야 한다.

- 프로그램의 크기를 충당 할 수 있을 만큼의 메모리 공간이 있어야 한다.

- 일반적인 컴퓨터의 운영체제는 메모리 공간을 네가지로 구분하여 관리한다. 

  - 코드 영역 : 소스코드
  - 데이터 영역 : 전역변수, 정적 변수

  - 힙 영역 : 동적 할당 변수
  - 스택 영역 : 지역 변수, 매개 변수





### 변수의 종류

- 전역변수 : 메인함수 실행전에 프로그램 시작과 동시에 메모리에 할당됨
- 지역변수 : 특정한 블록에서만 접근할 수 있는 변수, 함수가 실행될 때 메모리에 할당되고 함수가 종료되면 메모리에서 해제된다
- 정적변수 : 특정한 블록에서만 접근할 수 있는 변수, 프로그램이 실행될 때 메모리에 할당되어 프로그램이 종료되면 메모리에서 해제된다. ( ex> static int a = 1;)

- 레지스터변수 : 메인 메모리 대신 CPU의 레지스터를 사용하는 변수, 레지스터가 한정되어 있으므로 실제 레지스터에서 처리될지는 미지수 ( ex> regiter int a = 1;)



### 함수의 매개변수가 처리

- 함수를 호출할 때 함수에 필요한 데이터를 매개변수로 전달한다.
  - 전달방식 

    - 값에 의한 전달 : 값만 전달하므로 함수 내에서 변수가 새롭게 생성된다. 

      ```c
      void add (int a, int b) {
          a = a + b;
      }
      
      int main(void) {
          int a = 7;
          add(a, 10);
          printf("%d\n", a);
          return 0;
      }
      
      // print -> 7
      // 함수에 값만 전달했기 때문에 함수안에서 a라는 새로운 변수가 생기고,
      // main 안의 a 값은 변경되지 않음
      ```

      

    - 참조에 의한 전달 : 주소를 전달하므로 원래의 변수 자체에 접근할 수 있다

      ```c
      void add (int *a) {
          (*a) = (*a) + b;
      }
      
      int main(void) {
          int a = 7;
          add(&a);
          printf("%d\n", a);
          return 0;
      }
      
      // print -> 17
      // 변수 a를 포인터로 받아서 주소값을 참조 받았을 때,
      // main 안의 a 값이 변경되어 17이 출력된다.
      ```

      

